import{_ as s,c as a,o as n,O as l}from"./chunks/framework.941dfd5f.js";const u=JSON.parse('{"title":"富文本组件","description":"","frontmatter":{},"headers":[],"relativePath":"components/tinymce/base.md","filePath":"components/tinymce/base.md","lastUpdated":1714025396000}'),t={name:"components/tinymce/base.md"},p=l(`<h1 id="富文本组件" tabindex="-1">富文本组件 <a class="header-anchor" href="#富文本组件" aria-label="Permalink to &quot;富文本组件&quot;">​</a></h1><hr><h3 id="简介-可以输入各种样式、图片、视频等内容的富文本" tabindex="-1">简介：可以输入各种样式、图片、视频等内容的富文本 <a class="header-anchor" href="#简介-可以输入各种样式、图片、视频等内容的富文本" aria-label="Permalink to &quot;简介：可以输入各种样式、图片、视频等内容的富文本&quot;">​</a></h3><blockquote><p><strong>代码示例：</strong></p></blockquote><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#79B8FF;">s-tinymce</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">v-model</span><span style="color:#E1E4E8;">:</span><span style="color:#B392F0;">value</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;value&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#FDAEB7;font-style:italic;">@change=&quot;handleChange&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#FDAEB7;font-style:italic;">:imageUploadUrl=&quot;imageUploadUrl&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#FDAEB7;font-style:italic;">:videoUploadUrl=&quot;videoUploadUrl&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#FDAEB7;font-style:italic;">:headers=&quot;{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&#39;zj-unicom-token&#39;</span><span style="color:#FDAEB7;font-style:italic;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHBpcmVfdGltZSI6MTcxMTA5NTI5MTAxMiwidGVuYW50Q29kZSI6InpzczczcnIiLCJ1c2VySWQiOjIxNH0.KmG-LY-jF3pLnrWEHHy_DILGeALGxUKl_gQftXhlNRM&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#FDAEB7;font-style:italic;">}&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">setup</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">lang</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;ts&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">import { ref } from &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">const value = ref(&#39;hellow word!&#39;)</span></span>
<span class="line"><span style="color:#E1E4E8;">const videoUploadUrl = &#39;https://private-dev.ictsoft.cn/api-neighbor-circle/neighbor-circle/upload/uploadVideo&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">const imageUploadUrl = &#39;https://private-dev.ictsoft.cn/sc/th/api-publics/publics/fileUpload/uploadImage&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">function handleChange(value: string) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(value)</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#005CC5;">s-tinymce</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">v-model</span><span style="color:#24292E;">:</span><span style="color:#6F42C1;">value</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;value&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#B31D28;font-style:italic;">@change=&quot;handleChange&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#B31D28;font-style:italic;">:imageUploadUrl=&quot;imageUploadUrl&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#B31D28;font-style:italic;">:videoUploadUrl=&quot;videoUploadUrl&quot;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#B31D28;font-style:italic;">:headers=&quot;{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&#39;zj-unicom-token&#39;</span><span style="color:#B31D28;font-style:italic;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHBpcmVfdGltZSI6MTcxMTA5NTI5MTAxMiwidGVuYW50Q29kZSI6InpzczczcnIiLCJ1c2VySWQiOjIxNH0.KmG-LY-jF3pLnrWEHHy_DILGeALGxUKl_gQftXhlNRM&#39;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#B31D28;font-style:italic;">}&quot;</span></span>
<span class="line"><span style="color:#24292E;">    /&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setup</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">lang</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;ts&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">import { ref } from &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">const value = ref(&#39;hellow word!&#39;)</span></span>
<span class="line"><span style="color:#24292E;">const videoUploadUrl = &#39;https://private-dev.ictsoft.cn/api-neighbor-circle/neighbor-circle/upload/uploadVideo&#39;</span></span>
<span class="line"><span style="color:#24292E;">const imageUploadUrl = &#39;https://private-dev.ictsoft.cn/sc/th/api-publics/publics/fileUpload/uploadImage&#39;</span></span>
<span class="line"><span style="color:#24292E;">function handleChange(value: string) {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(value)</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><blockquote><p><strong>示例展示：</strong> <img src="https://minio-smart.ictsoft.cn/publicimg/2024-04-01/BilddYjcoW.png" alt="image"></p></blockquote><h3 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;">​</a></h3><table><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th></tr></thead><tbody><tr><td>value</td><td>富文本内容</td><td>String</td><td>&#39;&#39;</td></tr><tr><td>toolbar</td><td>工具栏配置</td><td>String, Array</td><td>自行查看代码配置</td></tr><tr><td>plugins</td><td>插件配置</td><td>String, Array</td><td>自行查看代码配置</td></tr><tr><td>height</td><td>富文本高度</td><td>Number, String</td><td>400</td></tr><tr><td>width</td><td>富文本宽度</td><td>Number, String</td><td>auto</td></tr><tr><td>maxLength</td><td>限制字符长度</td><td>Number, String</td><td>10000</td></tr><tr><td>imageUploadUrl</td><td>上传图片地址</td><td>String</td><td>&#39;&#39;</td></tr><tr><td>videoUploadUrl</td><td>上传视频地址</td><td>String</td><td>&#39;&#39;</td></tr><tr><td>headers</td><td>上传图片、视频的请求头</td><td>object</td><td>{}</td></tr><tr><td>options</td><td>其他配置（包括 readonly 等）</td><td>object</td><td>{}</td></tr></tbody></table><h3 id="events" tabindex="-1">events <a class="header-anchor" href="#events" aria-label="Permalink to &quot;events&quot;">​</a></h3><table><thead><tr><th>事件名</th><th>说明</th><th>回调参数</th></tr></thead><tbody><tr><td>change</td><td>富文本内容变化的回调</td><td>function(value)</td></tr></tbody></table><p><strong>注意:</strong></p><ol><li>配置了 imageUploadUrl 和 videoUploadUr 接口地址才能使用接口上传图片和视频功能</li><li>如果富文本是表单中必传参数，需要在 change 事件中加上如果有富文本内容清除表单的检验</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// content是富文本内容，formRef是表单ref</span></span>
<span class="line"><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (formState.value.content) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  formRef.value.</span><span style="color:#B392F0;">clearValidate</span><span style="color:#E1E4E8;">([</span><span style="color:#9ECBFF;">&#39;content&#39;</span><span style="color:#E1E4E8;">])</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// content是富文本内容，formRef是表单ref</span></span>
<span class="line"><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (formState.value.content) {</span></span>
<span class="line"><span style="color:#24292E;">  formRef.value.</span><span style="color:#6F42C1;">clearValidate</span><span style="color:#24292E;">([</span><span style="color:#032F62;">&#39;content&#39;</span><span style="color:#24292E;">])</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div>`,13),o=[p];function e(c,r,i,d,E,y){return n(),a("div",null,o)}const g=s(t,[["render",e]]);export{u as __pageData,g as default};
