<!--
 * @Description:
 * @Author: Ni Jianhun
 * @Date: 2023-10-13 16:21:37
 * @LastEditors: Hu Yilin
 * @LastEditTime: 2024-05-24 10:46:58
-->
# 智慧城市组件库

## 技术栈
组件：pnpm + vite + vue3 
依赖三方组件库：ant-design-vue 3.x
样式： less
组件文档生成:vitepress


## 本地开发
### 安装依赖

```shell
pnpm install

```

### 本地运行 vuepress 中组件文档

```shell
// docs项目(文档demo示例)基于vue3+vite项目
npm run docs:dev

```

## 环境与准备

注意：本地环境需要安装Node.js 16.x+、pnpm 7.x+

## 组件开发指南

### 注意事项和规范
- 1、组件源码文件夹不带任何前缀；
- 2、组件外部导出以 统一前缀S 开头；
- 3、样式统一用less；
- 4、封装的组件如使用三方组件，需要在组件内引入再使用，注意不要不引入ant-design组件直接使用；


### 文件目录说明

- 1、packages文件夹下放置组件源码；
- 2、docs文件夹是vitepress生成的组件文档；
- 3、docs/components 文件夹 下是各个组件的文档；
- 4、docs/examples是组件使用示例代码；
- 5、docs/index.md 是文档库生成的目录文件，新加一个组件需要再这里加个引用；


### 开发步骤
#### 一、编写组件源码
packages文件夹中建一个组件专属文件夹维护组件源码。组件源码的文件夹通常是组件的名字（不带统一前缀）。

##### 注意事项
- 1、 名称统一不带任何前缀；
- 2、组件相关文件放在一个src文件夹里，包括组件、附属代码（附属子组件/工具方法/hooks/types）如果仅在组件内部使用也放在同一个文件夹里；
- 3、组件统一在index.ts 导出，使用 withInstall函数包装组件源码导出，单组件可以export default, 一个文件夹承载多个组件可以导出多个；

#### 二、编写组件使用示例代码
在docs/examples里建一个文件夹，放组件使用示例代码，文件夹名通常是组件的名字（不带统一前缀）。如果有多种使用场景, 分多个示例源码文件承载各个使用场景。

##### 注意事项：
1、组件使用实例使用组件时，统一使用小写、中划线连接形式（kebab-case）；
2、当你完成组件库示例代码编写后，需要完成下面的步骤三和步骤四，才能在文档中预览你的组件效果。

#### 三、编写组件文档
在docs/components 文件夹下是各个组件的文档，建一个你的组件的文件夹， 文件夹名通常是组件的名字（不带统一前缀）， 新建一个md文件，承载组件文档。

##### 注意事项
完成该步骤后，需要完成步骤四，建立文档索引才能最后预览到组件文档。

##### 组件文档需要包含以下内容
- 1、组件示例代码，尽可能覆盖各种可能的使用场景, 例如增删改查/各种通用的业务情况；
- 2、组件的api, 以表格形式， 如类型复杂需要标注类型；
- 3、组件的methods ，以表格形式标注，如有负责的入参、出参，需要标注类型；

#### 四、在文档库目录建立组件文档索引
docs/index.md 是文档库生成的目录文件，新加一个组件需要再这里加个引用，具体参考已有组件。完成该步骤后，你就能在侧边栏预览到你的组件了。

#### 五、组件库向外导出组件
说明：packages/index.ts文件夹下，是所有组件引入和向外导出的入口；

##### 向外导出步骤
- 1、import componentName form '组件文件夹'；
- 2、components对象里加个你的组件，此刻注意要带上全局统一标识S，比如SComponentName；
- 3、export按需引入里再导出一遍组件；




